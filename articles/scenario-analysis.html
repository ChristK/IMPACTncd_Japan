<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Scenario Analysis • IMPACTncdJapan</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Scenario Analysis">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IMPACTncdJapan</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Getting Started</h6></li>
    <li><a class="dropdown-item" href="../articles/quickstart.html">Quick Start Guide</a></li>
    <li><a class="dropdown-item" href="../articles/installation.html">Installation Guide</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>User Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/running-simulations.html">Running Simulations</a></li>
    <li><a class="dropdown-item" href="../articles/scenario-analysis.html">Scenario Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/docker-setup.html">Docker Setup</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Technical Documentation</h6></li>
    <li><a class="dropdown-item" href="../articles/model-architecture.html">Model Architecture</a></li>
    <li><a class="dropdown-item" href="../articles/technical-appendix.html">Technical Appendix</a></li>
    <li><a class="dropdown-item" href="../articles/extending-model.html">Extending the Model</a></li>
    <li><a class="dropdown-item" href="../articles/troubleshooting.html">Troubleshooting</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Publications</h6></li>
    <li><a class="dropdown-item" href="../articles/publications.html">Scientific Publications</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Tutorials</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ChristK/IMPACTncd_Japan" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Scenario Analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ChristK/IMPACTncd_Japan/blob/webpage/vignettes/scenario-analysis.Rmd" class="external-link"><code>vignettes/scenario-analysis.Rmd</code></a></small>
      <div class="d-none name"><code>scenario-analysis.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="scenario-analysis-with-impactncd-japan">Scenario Analysis with IMPACTncd-Japan<a class="anchor" aria-label="anchor" href="#scenario-analysis-with-impactncd-japan"></a>
</h2>
<p>This guide covers how to design, implement, and analyze policy
scenarios using IMPACTncd-Japan.</p>
<div class="section level3">
<h3 id="what-is-scenario-analysis">What is Scenario Analysis?<a class="anchor" aria-label="anchor" href="#what-is-scenario-analysis"></a>
</h3>
<p>Scenario analysis allows you to: - <strong>Model policy
interventions</strong>: Test the impact of health policies -
<strong>Compare alternatives</strong>: Evaluate different intervention
strategies<br>
- <strong>Quantify benefits</strong>: Measure health gains and lives
saved - <strong>Assess cost-effectiveness</strong>: Support health
economic evaluations</p>
</div>
<div class="section level3">
<h3 id="types-of-scenarios">Types of Scenarios<a class="anchor" aria-label="anchor" href="#types-of-scenarios"></a>
</h3>
<div class="section level4">
<h4 id="trend-modification-scenarios">1. Trend Modification Scenarios<a class="anchor" aria-label="anchor" href="#trend-modification-scenarios"></a>
</h4>
<p>Change the trajectory of risk factor trends over time:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Example: Reduce smoking prevalence</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">scenario_name</span><span class="kw">:</span><span class="at"> </span><span class="st">"smoking_reduction"</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">interventions</span><span class="kw">:</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="at">  </span><span class="fu">smoking</span><span class="kw">:</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"trend_change"</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="at">    </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2025</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="at">    </span><span class="fu">end_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2040</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="at">    </span><span class="fu">target_reduction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.50</span><span class="co">    # 50% relative reduction</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="at">    </span><span class="fu">implementation_curve</span><span class="kw">:</span><span class="at"> </span><span class="st">"linear"</span><span class="co">  # linear, exponential, or logistic</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="policy-shock-scenarios">2. Policy Shock Scenarios<a class="anchor" aria-label="anchor" href="#policy-shock-scenarios"></a>
</h4>
<p>Implement immediate changes to risk factors:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Example: Sugar tax reducing BMI</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">scenario_name</span><span class="kw">:</span><span class="at"> </span><span class="st">"sugar_tax"</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">interventions</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="at">  </span><span class="fu">bmi</span><span class="kw">:</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"policy_shock"</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="at">    </span><span class="fu">implementation_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2030</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="at">    </span><span class="fu">effect_size</span><span class="kw">:</span><span class="at"> </span><span class="fl">-1.2</span><span class="co">         # Reduce mean BMI by 1.2 kg/m²</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="at">    </span><span class="fu">coverage</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.80</span><span class="co">            # 80% population coverage</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="at">    </span><span class="fu">fadeout_years</span><span class="kw">:</span><span class="at"> </span><span class="dv">5</span><span class="co">          # Effect diminishes over 5 years</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="treatmentcare-improvements">3. Treatment/Care Improvements<a class="anchor" aria-label="anchor" href="#treatmentcare-improvements"></a>
</h4>
<p>Modify disease case fatality rates or treatment effectiveness:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Example: Improved cardiac care</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">scenario_name</span><span class="kw">:</span><span class="at"> </span><span class="st">"improved_cardiac_care"</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">interventions</span><span class="kw">:</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="at">  </span><span class="fu">chd_treatment</span><span class="kw">:</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"case_fatality_reduction"</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="at">    </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2025</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="at">    </span><span class="fu">diseases</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">"CHD"</span><span class="kw">,</span><span class="at"> </span><span class="st">"stroke"</span><span class="kw">]</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="at">    </span><span class="fu">reduction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.15</span><span class="co">           # 15% reduction in case fatality</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="at">    </span><span class="fu">coverage_increase</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.10</span><span class="co">   # 10% increase in treatment coverage</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="implementing-scenarios">Implementing Scenarios<a class="anchor" aria-label="anchor" href="#implementing-scenarios"></a>
</h3>
<div class="section level4">
<h4 id="method-1-yaml-configuration">Method 1: YAML Configuration<a class="anchor" aria-label="anchor" href="#method-1-yaml-configuration"></a>
</h4>
<p>Create scenario-specific YAML files:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># scenarios/smoking_ban.yaml</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">scenario_name</span><span class="kw">:</span><span class="at"> </span><span class="st">"comprehensive_smoking_ban"</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="fu">scenario_description</span><span class="kw">:</span><span class="at"> </span><span class="st">"Complete smoking ban in public places with enforcement"</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fu">base_design_file</span><span class="kw">:</span><span class="at"> </span><span class="st">"./inputs/sim_design_baseline.yaml"</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="fu">interventions</span><span class="kw">:</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="at">  </span><span class="fu">smoking</span><span class="kw">:</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"trend_change"</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="at">    </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2025</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="at">    </span><span class="fu">target_reduction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.70</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="at">    </span><span class="fu">implementation_curve</span><span class="kw">:</span><span class="at"> </span><span class="st">"exponential"</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="at">  </span><span class="fu">passive_smoking</span><span class="kw">:</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"policy_shock"</span><span class="at"> </span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="at">    </span><span class="fu">implementation_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2025</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="at">    </span><span class="fu">effect_size</span><span class="kw">:</span><span class="at"> </span><span class="fl">-0.80</span><span class="co">        # 80% reduction in passive smoking</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="method-2-programmatic-definition">Method 2: Programmatic Definition<a class="anchor" aria-label="anchor" href="#method-2-programmatic-definition"></a>
</h4>
<p>Define scenarios in R code:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">create_smoking_scenario</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">reduction_percent</span>, <span class="va">start_year</span> <span class="op">=</span> <span class="fl">2025</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">design</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Design.html">Design</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">design</span><span class="op">$</span><span class="fu">read_yaml</span><span class="op">(</span><span class="st">"./inputs/sim_design_baseline.yaml"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Modify smoking trends</span></span>
<span>  <span class="va">design</span><span class="op">$</span><span class="va">scenario_prm</span><span class="op">$</span><span class="va">smoking_reduction</span> <span class="op">&lt;-</span> <span class="va">reduction_percent</span></span>
<span>  <span class="va">design</span><span class="op">$</span><span class="va">scenario_prm</span><span class="op">$</span><span class="va">intervention_start</span> <span class="op">&lt;-</span> <span class="va">start_year</span></span>
<span>  </span>
<span>  <span class="co"># Update scenario metadata</span></span>
<span>  <span class="va">design</span><span class="op">$</span><span class="va">sim_prm</span><span class="op">$</span><span class="va">scenario_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"smoking_"</span>, <span class="va">reduction_percent</span><span class="op">*</span><span class="fl">100</span>, <span class="st">"pct"</span><span class="op">)</span></span>
<span>  <span class="va">design</span><span class="op">$</span><span class="va">sim_prm</span><span class="op">$</span><span class="va">scenario_description</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>    <span class="st">"Smoking reduction of "</span>, <span class="va">reduction_percent</span><span class="op">*</span><span class="fl">100</span>, <span class="st">"% starting "</span>, <span class="va">start_year</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Create multiple scenarios</span></span>
<span><span class="va">scenarios</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  smoking_25 <span class="op">=</span> <span class="fu">create_smoking_scenario</span><span class="op">(</span><span class="fl">0.25</span><span class="op">)</span>,</span>
<span>  smoking_50 <span class="op">=</span> <span class="fu">create_smoking_scenario</span><span class="op">(</span><span class="fl">0.50</span><span class="op">)</span>,</span>
<span>  smoking_75 <span class="op">=</span> <span class="fu">create_smoking_scenario</span><span class="op">(</span><span class="fl">0.75</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="method-3-batch-scenario-runner">Method 3: Batch Scenario Runner<a class="anchor" aria-label="anchor" href="#method-3-batch-scenario-runner"></a>
</h4>
<p>Process multiple scenarios automatically:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vubiostat/r-yaml/" class="external-link">yaml</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">run_scenario_batch</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">scenario_dir</span>, <span class="va">output_base_dir</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">scenario_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">scenario_dir</span>, pattern <span class="op">=</span> <span class="st">"\\.yaml$"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">scenario_file</span> <span class="kw">in</span> <span class="va">scenario_files</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">scenario_name</span> <span class="op">&lt;-</span> <span class="fu">tools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tools/fileutils.html" class="external-link">file_path_sans_ext</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="va">scenario_file</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Running scenario:"</span>, <span class="va">scenario_name</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Load scenario configuration</span></span>
<span>    <span class="va">scenario_config</span> <span class="op">&lt;-</span> <span class="fu">yaml</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/yaml/man/read_yaml.html" class="external-link">read_yaml</a></span><span class="op">(</span><span class="va">scenario_file</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Create design</span></span>
<span>    <span class="va">design</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Design.html">Design</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">design</span><span class="op">$</span><span class="fu">read_yaml</span><span class="op">(</span><span class="va">scenario_config</span><span class="op">$</span><span class="va">base_design_file</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Apply scenario modifications</span></span>
<span>    <span class="va">design</span><span class="op">$</span><span class="fu">apply_scenario</span><span class="op">(</span><span class="va">scenario_config</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Set output directory</span></span>
<span>    <span class="va">design</span><span class="op">$</span><span class="va">sim_prm</span><span class="op">$</span><span class="va">output_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">output_base_dir</span>, <span class="va">scenario_name</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Run simulation</span></span>
<span>    <span class="va">sim</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Simulation.html">Simulation</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span>
<span>    <span class="va">sim</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Store results summary</span></span>
<span>    <span class="va">results</span><span class="op">[[</span><span class="va">scenario_name</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim</span><span class="op">$</span><span class="fu">get_summary</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="complex-multi-intervention-scenarios">Complex Multi-Intervention Scenarios<a class="anchor" aria-label="anchor" href="#complex-multi-intervention-scenarios"></a>
</h3>
<div class="section level4">
<h4 id="combined-risk-factor-interventions">Combined Risk Factor Interventions<a class="anchor" aria-label="anchor" href="#combined-risk-factor-interventions"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">scenario_name</span><span class="kw">:</span><span class="at"> </span><span class="st">"comprehensive_prevention"</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">scenario_description</span><span class="kw">:</span><span class="at"> </span><span class="st">"Multi-risk factor intervention program"</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="fu">interventions</span><span class="kw">:</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">  # Tobacco control</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="at">  </span><span class="fu">smoking</span><span class="kw">:</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"trend_change"</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="at">    </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2025</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="at">    </span><span class="fu">target_reduction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.60</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">  # Nutrition policy  </span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="at">  </span><span class="fu">bmi</span><span class="kw">:</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"policy_shock"</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="at">    </span><span class="fu">implementation_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2027</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="at">    </span><span class="fu">effect_size</span><span class="kw">:</span><span class="at"> </span><span class="fl">-1.5</span></span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="co">  # Physical activity promotion</span></span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a><span class="at">  </span><span class="fu">physical_activity</span><span class="kw">:</span></span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"trend_change"</span></span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a><span class="at">    </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2026</span></span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a><span class="at">    </span><span class="fu">target_increase</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.30</span></span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a><span class="co">  # Salt reduction</span></span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a><span class="at">  </span><span class="fu">blood_pressure</span><span class="kw">:</span></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"policy_shock"</span></span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a><span class="at">    </span><span class="fu">implementation_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2028</span></span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a><span class="at">    </span><span class="fu">effect_size</span><span class="kw">:</span><span class="at"> </span><span class="fl">-2.5</span><span class="co">         # mmHg reduction</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="staged-implementation">Staged Implementation<a class="anchor" aria-label="anchor" href="#staged-implementation"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">scenario_name</span><span class="kw">:</span><span class="at"> </span><span class="st">"phased_intervention"</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="co"># Phase 1: Tobacco control (2025-2030)</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="fu">phase_1</span><span class="kw">:</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="at">  </span><span class="fu">years</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="dv">2025</span><span class="kw">,</span><span class="at"> </span><span class="dv">2030</span><span class="kw">]</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="at">  </span><span class="fu">interventions</span><span class="kw">:</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="at">    </span><span class="fu">smoking</span><span class="kw">:</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"trend_change"</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="at">      </span><span class="fu">target_reduction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.40</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="co"># Phase 2: Add nutrition (2030-2035)  </span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="fu">phase_2</span><span class="kw">:</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="at">  </span><span class="fu">years</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="dv">2030</span><span class="kw">,</span><span class="at"> </span><span class="dv">2035</span><span class="kw">]</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="at">  </span><span class="fu">interventions</span><span class="kw">:</span></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="at">    </span><span class="fu">smoking</span><span class="kw">:</span></span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"maintain"</span><span class="co">        # Continue phase 1 effect</span></span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="at">    </span><span class="fu">bmi</span><span class="kw">:</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"policy_shock"</span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a><span class="at">      </span><span class="fu">effect_size</span><span class="kw">:</span><span class="at"> </span><span class="fl">-1.0</span></span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="co"># Phase 3: Full implementation (2035+)</span></span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a><span class="fu">phase_3</span><span class="kw">:</span></span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a><span class="at">  </span><span class="fu">years</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="dv">2035</span><span class="kw">,</span><span class="at"> </span><span class="dv">2040</span><span class="kw">]</span></span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a><span class="at">  </span><span class="fu">interventions</span><span class="kw">:</span></span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a><span class="at">    </span><span class="fu">smoking</span><span class="kw">:</span></span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"trend_change"</span></span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a><span class="at">      </span><span class="fu">target_reduction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.70</span><span class="co">  # Strengthen tobacco control</span></span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a><span class="at">    </span><span class="fu">bmi</span><span class="kw">:</span></span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"maintain"</span></span>
<span id="cb8-30"><a href="#cb8-30" tabindex="-1"></a><span class="at">    </span><span class="fu">physical_activity</span><span class="kw">:</span></span>
<span id="cb8-31"><a href="#cb8-31" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"trend_change"</span></span>
<span id="cb8-32"><a href="#cb8-32" tabindex="-1"></a><span class="at">      </span><span class="fu">target_increase</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.25</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="analyzing-scenario-results">Analyzing Scenario Results<a class="anchor" aria-label="anchor" href="#analyzing-scenario-results"></a>
</h3>
<div class="section level4">
<h4 id="comparative-analysis">Comparative Analysis<a class="anchor" aria-label="anchor" href="#comparative-analysis"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load results from multiple scenarios</span></span>
<span><span class="va">baseline_results</span> <span class="op">&lt;-</span> <span class="fu">load_simulation_results</span><span class="op">(</span><span class="st">"./outputs/baseline"</span><span class="op">)</span></span>
<span><span class="va">scenario_results</span> <span class="op">&lt;-</span> <span class="fu">load_simulation_results</span><span class="op">(</span><span class="st">"./outputs/smoking_50pct"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate differences</span></span>
<span><span class="va">health_impact</span> <span class="op">&lt;-</span> <span class="fu">calculate_health_impact</span><span class="op">(</span></span>
<span>  baseline <span class="op">=</span> <span class="va">baseline_results</span>,</span>
<span>  scenario <span class="op">=</span> <span class="va">scenario_results</span>,</span>
<span>  metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"deaths_averted"</span>, <span class="st">"life_years_gained"</span>, <span class="st">"disease_cases_prevented"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summarize by age groups and time periods</span></span>
<span><span class="va">summary_table</span> <span class="op">&lt;-</span> <span class="va">health_impact</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">age_group</span>, <span class="va">year</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span></span>
<span>    deaths_averted <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">deaths_averted</span><span class="op">)</span>,</span>
<span>    ly_gained <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">life_years_gained</span><span class="op">)</span>,</span>
<span>    cases_prevented <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">cases_prevented</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="time-series-analysis">Time Series Analysis<a class="anchor" aria-label="anchor" href="#time-series-analysis"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Track intervention effects over time</span></span>
<span><span class="va">plot_intervention_timeline</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">results_list</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">combined_data</span> <span class="op">&lt;-</span> <span class="fu">map_dfr</span><span class="op">(</span><span class="va">results_list</span>, <span class="op">~</span><span class="op">{</span></span>
<span>    <span class="va">.x</span><span class="op">$</span><span class="va">mortality_trends</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">select</span><span class="op">(</span><span class="va">year</span>, <span class="va">deaths_total</span>, <span class="va">scenario_name</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, .id <span class="op">=</span> <span class="st">"scenario"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="va">combined_data</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">deaths_total</span>, color <span class="op">=</span> <span class="va">scenario</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_line</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">2025</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">labs</span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="st">"Mortality Trends by Scenario"</span>,</span>
<span>      subtitle <span class="op">=</span> <span class="st">"Intervention starts in 2025"</span>,</span>
<span>      x <span class="op">=</span> <span class="st">"Year"</span>,</span>
<span>      y <span class="op">=</span> <span class="st">"Total Deaths"</span>,</span>
<span>      color <span class="op">=</span> <span class="st">"Scenario"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="cost-effectiveness-preparation">Cost-Effectiveness Preparation<a class="anchor" aria-label="anchor" href="#cost-effectiveness-preparation"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare data for health economic evaluation</span></span>
<span><span class="va">prepare_cea_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">baseline</span>, <span class="va">scenario</span>, <span class="va">intervention_cost</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Calculate health outcomes</span></span>
<span>  <span class="va">health_outcomes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    deaths_averted <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">scenario</span><span class="op">$</span><span class="va">deaths_total</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">baseline</span><span class="op">$</span><span class="va">deaths_total</span><span class="op">)</span>,</span>
<span>    qalys_gained <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">scenario</span><span class="op">$</span><span class="va">qalys_total</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">baseline</span><span class="op">$</span><span class="va">qalys_total</span><span class="op">)</span>,</span>
<span>    life_years_gained <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">scenario</span><span class="op">$</span><span class="va">life_years_total</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">baseline</span><span class="op">$</span><span class="va">life_years_total</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Calculate costs (requires additional cost modeling)</span></span>
<span>  <span class="va">costs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    intervention_cost <span class="op">=</span> <span class="va">intervention_cost</span>,</span>
<span>    healthcare_cost_savings <span class="op">=</span> <span class="fu">calculate_healthcare_savings</span><span class="op">(</span><span class="va">baseline</span>, <span class="va">scenario</span><span class="op">)</span>,</span>
<span>    net_cost <span class="op">=</span> <span class="va">intervention_cost</span> <span class="op">-</span> <span class="fu">calculate_healthcare_savings</span><span class="op">(</span><span class="va">baseline</span>, <span class="va">scenario</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Cost-effectiveness ratios</span></span>
<span>  <span class="va">cea_ratios</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    cost_per_qaly <span class="op">=</span> <span class="va">costs</span><span class="op">$</span><span class="va">net_cost</span> <span class="op">/</span> <span class="va">health_outcomes</span><span class="op">$</span><span class="va">qalys_gained</span>,</span>
<span>    cost_per_ly <span class="op">=</span> <span class="va">costs</span><span class="op">$</span><span class="va">net_cost</span> <span class="op">/</span> <span class="va">health_outcomes</span><span class="op">$</span><span class="va">life_years_gained</span>,</span>
<span>    cost_per_death_averted <span class="op">=</span> <span class="va">costs</span><span class="op">$</span><span class="va">net_cost</span> <span class="op">/</span> <span class="va">health_outcomes</span><span class="op">$</span><span class="va">deaths_averted</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    outcomes <span class="op">=</span> <span class="va">health_outcomes</span>,</span>
<span>    costs <span class="op">=</span> <span class="va">costs</span>,</span>
<span>    ratios <span class="op">=</span> <span class="va">cea_ratios</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h3>
<div class="section level4">
<h4 id="scenario-design">Scenario Design<a class="anchor" aria-label="anchor" href="#scenario-design"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong>Use realistic assumptions</strong>: Base interventions on
evidence from similar policies</li>
<li>
<strong>Consider implementation lag</strong>: Allow time for policy
rollout and behavior change</li>
<li>
<strong>Account for coverage</strong>: Not all interventions reach
100% of the population</li>
<li>
<strong>Model fadeout effects</strong>: Consider whether
intervention effects diminish over time</li>
</ol>
</div>
<div class="section level4">
<h4 id="validation">Validation<a class="anchor" aria-label="anchor" href="#validation"></a>
</h4>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Validate scenario assumptions</span></span>
<span><span class="va">validate_scenario</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">design</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">checks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Check intervention magnitudes are realistic</span></span>
<span>  <span class="va">checks</span><span class="op">$</span><span class="va">realistic_effects</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">design</span><span class="op">$</span><span class="va">intervention_effects</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Check timeline consistency</span></span>
<span>  <span class="va">checks</span><span class="op">$</span><span class="va">timeline_valid</span> <span class="op">&lt;-</span> <span class="va">design</span><span class="op">$</span><span class="va">intervention_start</span> <span class="op">&gt;=</span> <span class="va">design</span><span class="op">$</span><span class="va">sim_prm</span><span class="op">$</span><span class="va">years</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span>  </span>
<span>  <span class="co"># Check coverage rates</span></span>
<span>  <span class="va">checks</span><span class="op">$</span><span class="va">coverage_valid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">design</span><span class="op">$</span><span class="va">coverage_rates</span> <span class="op">&lt;=</span> <span class="fl">1.0</span> <span class="op">&amp;</span> <span class="va">design</span><span class="op">$</span><span class="va">coverage_rates</span> <span class="op">&gt;=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">checks</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="sensitivity-analysis">Sensitivity Analysis<a class="anchor" aria-label="anchor" href="#sensitivity-analysis"></a>
</h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Test robustness of results</span></span>
<span><span class="va">run_sensitivity_analysis</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">base_scenario</span>, <span class="va">parameters</span>, <span class="va">ranges</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">param</span> <span class="kw">in</span> <span class="va">parameters</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">param_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">value</span> <span class="kw">in</span> <span class="va">ranges</span><span class="op">[[</span><span class="va">param</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="co"># Modify parameter</span></span>
<span>      <span class="va">modified_scenario</span> <span class="op">&lt;-</span> <span class="va">base_scenario</span></span>
<span>      <span class="va">modified_scenario</span><span class="op">[[</span><span class="va">param</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span>      </span>
<span>      <span class="co"># Run simulation</span></span>
<span>      <span class="va">sim</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Simulation.html">Simulation</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">modified_scenario</span><span class="op">)</span></span>
<span>      <span class="va">sim</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span></span>
<span>      </span>
<span>      <span class="va">param_results</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim</span><span class="op">$</span><span class="fu">get_summary</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="va">results</span><span class="op">[[</span><span class="va">param</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">param_results</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Example sensitivity analysis</span></span>
<span><span class="va">sensitivity_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  smoking_reduction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.7</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  implementation_speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"slow"</span>, <span class="st">"medium"</span>, <span class="st">"fast"</span><span class="op">)</span>,</span>
<span>  coverage_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">1.0</span>, <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="reporting-results">Reporting Results<a class="anchor" aria-label="anchor" href="#reporting-results"></a>
</h3>
<div class="section level4">
<h4 id="summary-tables">Summary Tables<a class="anchor" aria-label="anchor" href="#summary-tables"></a>
</h4>
<p>Generate standardized summary tables for different audiences:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Policy maker summary</span></span>
<span><span class="va">create_policy_summary</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">scenario_results</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">summary</span> <span class="op">&lt;-</span> <span class="va">scenario_results</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">group_by</span><span class="op">(</span><span class="va">scenario_name</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">summarise</span><span class="op">(</span></span>
<span>      `Deaths Averted (2025-2040)` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">deaths_averted</span><span class="op">)</span>,</span>
<span>      `Life Years Gained` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">life_years_gained</span><span class="op">)</span>,</span>
<span>      `Disease Cases Prevented` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">cases_prevented</span><span class="op">)</span>,</span>
<span>      `Peak Health Benefit Year` <span class="op">=</span> <span class="va">year</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.max</a></span><span class="op">(</span><span class="va">annual_benefit</span><span class="op">)</span><span class="op">]</span>,</span>
<span>      .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">summary</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Technical summary</span></span>
<span><span class="va">create_technical_summary</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">scenario_results</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Include confidence intervals, age-specific results, etc.</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h4>
<p>Create compelling visualizations for different stakeholders:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create impact visualization</span></span>
<span><span class="va">plot_scenario_impact</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Implementation depends on your specific data structure</span></span>
<span>  <span class="co"># Include before/after comparisons, uncertainty bands, etc.</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chris Kypridemos and contributors at University of Liverpool Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

<div class="pkgdown-footer-right">
  <p>list(icon = “fab fa-github fa-lg”, href = “<a href="https://github.com/ChristK/IMPACTncd_Japan" class="external-link uri">https://github.com/ChristK/IMPACTncd_Japan</a>”, <code>aria-label</code> = “GitHub”) Licensed under GPL-3</p>
</div>

    </footer>
</div>





  </body>
</html>
